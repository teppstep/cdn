!function(t,h,g){"use strict";var r=["","webkit","moz","MS","ms","o"],e=h.createElement("div"),i="function",o=Math.round,T=Math.abs,y=Date.now;function a(t,e,i){return setTimeout(p(t,i),e)}function n(t,e,i){return Array.isArray(t)&&(s(t,i[e],i),1)}function s(t,e,i){if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==g)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(var n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function u(t,e,i){for(var n=Object.keys(e),s=0;s<n.length;)(!i||i&&t[n[s]]===g)&&(t[n[s]]=e[n[s]]),s++;return t}function c(t,e){return u(t,e,!0)}function l(t,e,i){var n=e.prototype;(e=t.prototype=Object.create(n)).constructor=t,e._super=n,i&&u(e,i)}function p(t,e){return function(){return t.apply(e,arguments)}}function f(t,e){return typeof t==i?t.apply(e&&e[0]||g,e):t}function d(t,e){return t===g?e:t}function v(e,t,i){s(A(t),function(t){e.addEventListener(t,i,!1)})}function m(e,t,i){s(A(t),function(t){e.removeEventListener(t,i,!1)})}function E(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function I(t,e){return-1<t.indexOf(e)}function A(t){return t.trim().split(/\s+/g)}function _(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function D(t){return Array.prototype.slice.call(t,0)}function S(t,i,e){for(var n=[],s=[],r=0;r<t.length;){var o=i?t[r][i]:t[r];_(s,o)<0&&n.push(t[r]),s[r]=o,r++}return e&&(n=i?n.sort(function(t,e){return t[i]>e[i]}):n.sort()),n}function w(t,e){for(var i,n=e[0].toUpperCase()+e.slice(1),s=0;s<r.length;){if((i=(i=r[s])?i+n:e)in t)return i;s++}return g}var b=1;function C(t){t=t.ownerDocument;return t.defaultView||t.parentWindow}var R="ontouchstart"in t,z=w(t,"PointerEvent")!==g,N=R&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),P=25,M=1,O=4,X=8,Y=1,x=2,F=4,W=8,q=16,L=x|F,H=W|q,k=L|H,U=["x","y"],G=["clientX","clientY"];function V(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){f(e.options.enable,[e])&&i.handler(t)},this.init()}function j(t,e,i){var n=i.pointers.length,s=i.changedPointers.length,r=e&M&&n-s==0,s=e&(O|X)&&n-s==0;i.isFirst=!!r,i.isFinal=!!s,r&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,n=e.pointers,s=n.length;i.firstInput||(i.firstInput=Z(e)),1<s&&!i.firstMultiple?i.firstMultiple=Z(e):1===s&&(i.firstMultiple=!1);var r,o,h,a,u,c,l,p,f,d=i.firstInput,v=((f=i.firstMultiple)||d).center,m=e.center=B(n);e.timeStamp=y(),e.deltaTime=e.timeStamp-d.timeStamp,e.angle=Q(v,m),e.distance=K(v,m),c=i,s=(l=e).center,d=c.offsetDelta||{},v=c.prevDelta||{},m=c.prevInput||{},l.eventType!==M&&m.eventType!==O||(v=c.prevDelta={x:m.deltaX||0,y:m.deltaY||0},d=c.offsetDelta={x:s.x,y:s.y}),l.deltaX=v.x+(s.x-d.x),l.deltaY=v.y+(s.y-d.y),e.offsetDirection=J(e.deltaX,e.deltaY),e.scale=f?(p=f.pointers,K(n[0],n[1],G)/K(p[0],p[1],G)):1,e.rotation=f?(u=f.pointers,Q(n[1],n[0],G)-Q(u[1],u[0],G)):0,p=e,n=(f=i).lastInterval||p,u=p.timeStamp-n.timeStamp,p.eventType!=X&&(P<u||n.velocity===g)?(o=(h={x:(i=n.deltaX-p.deltaX)/u||0,y:(a=n.deltaY-p.deltaY)/u||0}).y,h=T(r=h.x)>T(h.y)?h.x:h.y,a=J(i,a),f.lastInterval=p):(h=n.velocity,r=n.velocityX,o=n.velocityY,a=n.direction),p.velocity=h,p.velocityX=r,p.velocityY=o,p.direction=a,t=t.element,E(e.srcEvent.target,t)&&(t=e.srcEvent.target),e.target=t}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function Z(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:o(t.pointers[i].clientX),clientY:o(t.pointers[i].clientY)},i++;return{timeStamp:y(),pointers:e,center:B(e),deltaX:t.deltaX,deltaY:t.deltaY}}function B(t){var e=t.length;if(1===e)return{x:o(t[0].clientX),y:o(t[0].clientY)};for(var i=0,n=0,s=0;s<e;)i+=t[s].clientX,n+=t[s].clientY,s++;return{x:o(i/e),y:o(n/e)}}function J(t,e){return t===e?Y:T(t)>=T(e)?0<t?x:F:0<e?W:q}function K(t,e,i){var n=e[(i=i||U)[0]]-t[i[0]],i=e[i[1]]-t[i[1]];return Math.sqrt(n*n+i*i)}function Q(t,e,i){var n=e[(i=i||U)[0]]-t[i[0]],i=e[i[1]]-t[i[1]];return 180*Math.atan2(i,n)/Math.PI}V.prototype={handler:function(){},init:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(C(this.element),this.evWin,this.domHandler)}};var $={mousedown:M,mousemove:2,mouseup:O},tt="mousedown",et="mousemove mouseup";function it(){this.evEl=tt,this.evWin=et,this.allow=!0,this.pressed=!1,V.apply(this,arguments)}l(it,V,{handler:function(t){var e=$[t.type];e&M&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=O),this.pressed&&this.allow&&(e&O&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var nt={pointerdown:M,pointermove:2,pointerup:O,pointercancel:X,pointerout:X},st={2:"touch",3:"pen",4:"mouse",5:"kinect"},rt="pointerdown",ot="pointermove pointerup pointercancel";function ht(){this.evEl=rt,this.evWin=ot,V.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}t.MSPointerEvent&&(rt="MSPointerDown",ot="MSPointerMove MSPointerUp MSPointerCancel"),l(ht,V,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),s=nt[n],r=st[t.pointerType]||t.pointerType,o="touch"==r,n=_(e,t.pointerId,"pointerId");s&M&&(0===t.button||o)?n<0&&(e.push(t),n=e.length-1):s&(O|X)&&(i=!0),n<0||(e[n]=t,this.callback(this.manager,s,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),i&&e.splice(n,1))}});var at={touchstart:M,touchmove:2,touchend:O,touchcancel:X};function ut(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,V.apply(this,arguments)}l(ut,V,{handler:function(t){var e,i=at[t.type];i===M&&(this.started=!0),this.started&&(e=function(t,e){var i=D(t.touches),t=D(t.changedTouches);return e&(O|X)&&(i=S(i.concat(t),"identifier",!0)),[i,t]}.call(this,t,i),i&(O|X)&&e[0].length-e[1].length==0&&(this.started=!1),this.callback(this.manager,i,{pointers:e[0],changedPointers:e[1],pointerType:"touch",srcEvent:t}))}});var ct={touchstart:M,touchmove:2,touchend:O,touchcancel:X},lt="touchstart touchmove touchend touchcancel";function pt(){this.evTarget=lt,this.targetIds={},V.apply(this,arguments)}function ft(){V.apply(this,arguments);var t=p(this.handler,this);this.touch=new pt(this.manager,t),this.mouse=new it(this.manager,t)}l(pt,V,{handler:function(t){var e=ct[t.type],i=function(t,e){var i=D(t.touches),n=this.targetIds;if(e&(2|M)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var s,r=D(t.changedTouches),o=[],h=this.target,a=i.filter(function(t){return E(t.target,h)});if(e===M)for(s=0;s<a.length;)n[a[s].identifier]=!0,s++;for(s=0;s<r.length;)n[r[s].identifier]&&o.push(r[s]),e&(O|X)&&delete n[r[s].identifier],s++;return o.length?[S(a.concat(o),"identifier",!0),o]:void 0}.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}),l(ft,V,{handler:function(t,e,i){var n="touch"==i.pointerType,s="mouse"==i.pointerType;if(n)this.mouse.allow=!1;else if(s&&!this.mouse.allow)return;e&(O|X)&&(this.mouse.allow=!0),this.callback(t,e,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var dt=w(e.style,"touchAction"),vt=dt!==g,mt="manipulation",gt="none",Tt="pan-x",yt="pan-y";function Et(t,e){this.manager=t,this.set(e)}Et.prototype={set:function(t){"compute"==t&&(t=this.compute()),vt&&(this.manager.element.style[dt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return s(this.manager.recognizers,function(t){f(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(t){if(I(t,gt))return gt;var e=I(t,Tt),i=I(t,yt);return e&&i?Tt+" "+yt:e||i?e?Tt:yt:I(t,mt)?mt:"auto"}(e.join(" "))},preventDefaults:function(t){if(!vt){var e=t.srcEvent,i=t.offsetDirection;if(!this.manager.session.prevented){var n=this.actions,s=I(n,gt),t=I(n,yt),n=I(n,Tt);return s||t&&i&L||n&&i&H?this.preventSrc(e):void 0}e.preventDefault()}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var It=1;function At(t){this.id=b++,this.manager=null,this.options=c(t||{},this.defaults),this.options.enable=d(this.options.enable,!0),this.state=It,this.simultaneous={},this.requireFail=[]}function _t(t){return t==q?"down":t==W?"up":t==x?"left":t==F?"right":""}function Dt(t,e){e=e.manager;return e?e.get(t):t}function St(){At.apply(this,arguments)}function wt(){St.apply(this,arguments),this.pX=null,this.pY=null}function bt(){St.apply(this,arguments)}function Ct(){At.apply(this,arguments),this._timer=null,this._input=null}function Rt(){St.apply(this,arguments)}function zt(){St.apply(this,arguments)}function Nt(){At.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Pt(t,e){return(e=e||{}).recognizers=d(e.recognizers,Pt.defaults.preset),new Mt(t,e)}function Mt(t,e){e=e||{},this.options=c(e,Pt.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=new(this.options.inputClass||(z?ht:N?pt:R?ft:it))(this,j),this.touchAction=new Et(this,this.options.touchAction),Ot(this,!0),s(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function Ot(t,i){var n=t.element;s(t.options.cssProps,function(t,e){n.style[w(n.style,e)]=i?t:""})}At.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(n(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Dt(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},dropRecognizeWith:function(t){return n(t,"dropRecognizeWith",this)||(t=Dt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(n(t,"requireFailure",this))return this;var e=this.requireFail;return-1===_(e,t=Dt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(n(t,"dropRequireFailure",this))return this;t=Dt(t,this);t=_(this.requireFail,t);return-1<t&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(e){var i=this,n=this.state;function t(t){i.manager.emit(i.options.event+(t?16&n?"cancel":8&n?"end":4&n?"move":2&n?"start":"":""),e)}n<8&&t(!0),t(),8<=n&&t(!0)},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|It)))return!1;t++}return!0},recognize:function(t){t=u({},t);if(!f(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=It),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(t){},getTouchAction:function(){},reset:function(){}},l(St,At,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=6&e,t=this.attrTest(t);return n&&(i&X||!t)?16|e:n||t?i&O?8|e:2&e?4|e:2:32}}),l(wt,St,{defaults:{event:"pan",threshold:10,pointers:1,direction:k},getTouchAction:function(){var t=this.options.direction,e=[];return t&L&&e.push(yt),t&H&&e.push(Tt),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,s=t.direction,r=t.deltaX,o=t.deltaY;return s&e.direction||(n=e.direction&L?(s=0===r?Y:r<0?x:F,i=r!=this.pX,Math.abs(t.deltaX)):(s=0===o?Y:o<0?W:q,i=o!=this.pY,Math.abs(t.deltaY))),t.direction=s,i&&n>e.threshold&&s&e.direction},attrTest:function(t){return St.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=_t(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),l(bt,St,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[gt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){var e;this._super.emit.call(this,t),1!==t.scale&&(e=t.scale<1?"in":"out",this.manager.emit(this.options.event+e,t))}}),l(Ct,At,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(O|X)&&!s)this.reset();else if(t.eventType&M)this.reset(),this._timer=a(function(){this.state=8,this.tryEmit()},e.time,this);else if(t.eventType&O)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&t.eventType&O?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=y(),this.manager.emit(this.options.event,this._input)))}}),l(Rt,St,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[gt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),l(zt,St,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:L|H,pointers:1},getTouchAction:function(){return wt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(L|H)?e=t.velocity:i&L?e=t.velocityX:i&H&&(e=t.velocityY),this._super.attrTest.call(this,t)&&i&t.direction&&t.distance>this.options.threshold&&T(e)>this.options.velocity&&t.eventType&O},emit:function(t){var e=_t(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),l(Nt,At,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[mt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),t.eventType&M&&0===this.count)return this.failTimeout();if(n&&s&&i){if(t.eventType!=O)return this.failTimeout();s=!this.pTime||t.timeStamp-this.pTime<e.interval,i=!this.pCenter||K(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,i&&s?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=a(function(){this.state=8,this.tryEmit()},e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=a(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Pt.VERSION="2.0.4",Pt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Rt,{enable:!1}],[bt,{enable:!1},["rotate"]],[zt,{direction:L}],[wt,{direction:L},["swipe"]],[Nt],[Nt,{event:"doubletap",taps:2},["tap"]],[Ct]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Mt.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e,i=this.session;if(!i.stopped){this.touchAction.preventDefaults(t);var n=this.recognizers,s=i.curRecognizer;(!s||s&&8&s.state)&&(s=i.curRecognizer=null);for(var r=0;r<n.length;)e=n[r],2===i.stopped||s&&e!=s&&!e.canRecognizeWith(s)?e.reset():e.recognize(t),!s&&14&e.state&&(s=i.curRecognizer=e),r++}},get:function(t){if(t instanceof At)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(n(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t},remove:function(t){if(n(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(_(e,t),1),this.touchAction.update(),this},on:function(t,e){var i=this.handlers;return s(A(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i=this.handlers;return s(A(t),function(t){e?i[t].splice(_(i[t],e),1):delete i[t]}),this},emit:function(t,e){var i,n,s;this.options.domEvents&&(i=t,n=e,(s=h.createEvent("Event")).initEvent(i,!0,!0),(s.gesture=n).target.dispatchEvent(s));var r=this.handlers[t]&&this.handlers[t].slice();if(r&&r.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var o=0;o<r.length;)r[o](e),o++}},destroy:function(){this.element&&Ot(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Pt,{INPUT_START:M,INPUT_MOVE:2,INPUT_END:O,INPUT_CANCEL:X,STATE_POSSIBLE:It,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:Y,DIRECTION_LEFT:x,DIRECTION_RIGHT:F,DIRECTION_UP:W,DIRECTION_DOWN:q,DIRECTION_HORIZONTAL:L,DIRECTION_VERTICAL:H,DIRECTION_ALL:k,Manager:Mt,Input:V,TouchAction:Et,TouchInput:pt,MouseInput:it,PointerEventInput:ht,TouchMouseInput:ft,SingleTouchInput:ut,Recognizer:At,AttrRecognizer:St,Tap:Nt,Pan:wt,Swipe:zt,Pinch:bt,Rotate:Rt,Press:Ct,on:v,off:m,each:s,merge:c,extend:u,inherit:l,bindFn:p,prefixed:w}),"undefined"!=typeof module&&module.exports?module.exports=Pt:t.Hammer=Pt}(window,document);